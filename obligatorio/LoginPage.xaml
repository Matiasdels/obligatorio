<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="obligatorio.LoginPage"
             Title=""
             BackgroundColor="{StaticResource BackgroundLight}">

    <ScrollView>
        <Grid RowDefinitions="Auto,*,Auto" Padding="30">

            <StackLayout Grid.Row="0" Spacing="20" Margin="0,50,0,30">
                <Label Text="Bienvenido" 
                       Style="{StaticResource AppTitleLabel}"/>

                <Label Text="Ingresa a tu cuenta para continuar" 
                       Style="{StaticResource AppSubtitleLabel}"/>
            </StackLayout>

            <StackLayout Grid.Row="1" Spacing="25" VerticalOptions="Center">

                <Frame x:Name="frameHuella" 
                       Style="{StaticResource AppCardFrame}"
                       Padding="0"
                       IsVisible="False">
                    <Button x:Name="btnHuella" 
                            Text="🔐 Ingresar con Huella Digital" 
                            Style="{StaticResource AppSecondaryButton}"
                            BackgroundColor="Transparent"
                            TextColor="{StaticResource PrimaryBlue}"
                            Clicked="btnHuella_Clicked" />
                </Frame>

                <StackLayout x:Name="separadorO" 
                             Orientation="Horizontal" 
                             HorizontalOptions="Center"
                             Spacing="15"
                             IsVisible="False"
                             Margin="0,10">
                    <BoxView BackgroundColor="{StaticResource Gray200}" HeightRequest="1" WidthRequest="80" VerticalOptions="Center"/>
                    <Label Text="O" TextColor="{StaticResource Gray500}" FontSize="16" FontAttributes="Bold"/>
                    <BoxView BackgroundColor="{StaticResource Gray200}" HeightRequest="1" WidthRequest="80" VerticalOptions="Center"/>
                </StackLayout>

                <StackLayout x:Name="formularioLogin" Spacing="20">

                    <Label x:Name="lblFallback" 
                       Text="Iniciar Sesión"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="{StaticResource PrimaryBlueDark}"
                       HorizontalOptions="Center" 
                       IsVisible="False" />
                    
                    <Frame BackgroundColor="{StaticResource White}"
                            HasShadow="True"
                            CornerRadius="15"
                            Padding="0"
                            MaximumWidthRequest="350"
                            HorizontalOptions="Fill">
                        <Grid>
                            <Entry x:Name="txtUsuario" 
                                Placeholder="📧 Usuario o Email"
                                PlaceholderColor="{StaticResource Gray400}"
                                TextColor="{StaticResource Gray600}"
                                FontSize="16"
                                HeightRequest="50"
                                BackgroundColor="Transparent"
                                IsVisible="False"
                                HorizontalOptions="Fill"/>
                        </Grid>
                    </Frame>

                    <Frame BackgroundColor="{StaticResource White}"
                       HasShadow="True"
                       CornerRadius="15"
                       Padding="0"
                       MaximumWidthRequest="350"
                       HorizontalOptions="Fill">
                        <Entry x:Name="txtPassword" 
                       Placeholder="🔒 Contraseña"
                       PlaceholderColor="{StaticResource Gray400}"
                       TextColor="{StaticResource Gray600}"
                       FontSize="16"
                       HeightRequest="50"
                       BackgroundColor="Transparent"
                       IsPassword="True" 
                       IsVisible="False"/>
                    </Frame>

                    <Button x:Name="btnLogin" 
                        Text="INGRESAR"
                        BackgroundColor="{StaticResource PrimaryBlue}"
                        TextColor="{StaticResource TextOnPrimary}"
                        FontSize="18"
                        FontAttributes="Bold"
                        HeightRequest="55"
                        CornerRadius="15"
                        MaximumWidthRequest="350"
                        HorizontalOptions="Center"
                        Clicked="BtnLogin_Clicked" 
                        IsVisible="False">
                        <Button.Shadow>
                            <Shadow Brush="{StaticResource PrimaryBlue}" Offset="0,4" Radius="10" Opacity="0.3"/>
                        </Button.Shadow>
                    </Button>
                    
                    
                </StackLayout>
            </StackLayout>

            <StackLayout Grid.Row="2" Spacing="15" Margin="0,30,0,20">

                <Frame BackgroundColor="Transparent"
                       BorderColor="Transparent"
                       HasShadow="False"
                       Padding="0">
                    <StackLayout Orientation="Horizontal" 
                                 HorizontalOptions="Center" 
                                 Spacing="5">
                        <Label Text="¿Aún no estás registrado?" 
                               FontSize="15" 
                               TextColor="{StaticResource Gray500}"/>
                        <Label Text="Regístrate aquí"
                               FontSize="15"
                               TextColor="{StaticResource PrimaryBlue}"
                               FontAttributes="Bold"
                               TextDecorations="Underline">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnRegistroTapped" />
                            </Label.GestureRecognizers>
                        </Label>
                    </StackLayout>
                </Frame>

                <!--<StackLayout Spacing="10">
                    <Label Text="¿Olvidaste tu contraseña?"
                           FontSize="14"
                           TextColor="#2563EB"
                           TextDecorations="Underline"
                           HorizontalOptions="Center">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnOlvidastePasswordTapped" />
                        </Label.GestureRecognizers>
                    </Label>
                </StackLayout>-->
            </StackLayout>

        </Grid>
    </ScrollView>
</ContentPage>


